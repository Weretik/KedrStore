@inject ICatalogStore Catalog

<MudStack Class="mt-10 mb-20" Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceEvenly" Wrap="Wrap.Wrap">

    <MudStack Style="width: 100%; max-width: 450px;" Row="true" AlignItems="AlignItems.Center">

        <MudTextField @bind-Value="_term"
                      Label="Пошук"
                      OnKeyUp="OnSearch"
                      Variant="Variant.Outlined"
                      Adornment="Adornment.End"
                      AdornmentIcon="@Icons.Material.Filled.Search"
                      AdornmentColor="Color.Success"
                      OnAdornmentClick="@DoSearch"
                      Immediate="true" />
    </MudStack>


    <MudStack Row="true">
        <MudFab  Color="Color.Secondary" Size="Size.Small" StartIcon="@Icons.Custom.Brands.Instagram"
                 Href="https://www.instagram.com/kedr.class/" Target="_blank"/>

        <MudFab  Color="Color.Secondary" Size="Size.Small" StartIcon="@Icons.Custom.Brands.YouTube"
                 Href="https://www.youtube.com/channel/UCMzipw3fGj8I8HgQXiPoTWQ" Target="_blank"/>

        <MudFab Color="Color.Secondary" Size="Size.Small" StartIcon="@Icons.Custom.Brands.Telegram"
                Href="https://web.telegram.org/k/#197393163" Target="_blank"/>
    </MudStack>

</MudStack>

@code {
    private string? _term;

    public void OnSearch(KeyboardEventArgs e)
    {
      if (e.Key != "Enter") return;

      DoSearch();
    }

    void DoSearch()
    {
        Catalog.SetSearchTerm(_term);

        if (!Nav.Uri.EndsWith(Routing.CatalogProducts, StringComparison.OrdinalIgnoreCase))
            Nav.NavigateTo(Routing.CatalogProducts, replace: true);
    }
}
